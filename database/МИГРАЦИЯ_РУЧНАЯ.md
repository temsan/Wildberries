# üîß –†–£–ß–ù–û–ï –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –ú–ò–ì–†–ê–¶–ò–ò

## –ü—Ä–æ–±–ª–µ–º–∞
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Ç–µ–≤—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Supabase.

## –†–µ—à–µ–Ω–∏–µ
–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Supabase Dashboard.

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: https://supabase.com/dashboard
- –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor
- –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ "SQL Editor"
- –ù–∞–∂–º–∏—Ç–µ "New Query"

### 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–í–ï–°–¨** –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞:
```
database/migrations/001_fix_security_issues.sql
```

### 4. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤ SQL Editor
- –í—Å—Ç–∞–≤—å—Ç–µ –≤–µ—Å—å –∫–æ–¥ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ù–∞–∂–º–∏—Ç–µ "Run" –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å `SET search_path = public`
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã
- ‚úÖ Views –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω—ã –±–µ–∑ `SECURITY DEFINER`

### 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Database Linter
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Database" ‚Üí "Linter"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—à–∏–±–∫–∏ –∏—Å—á–µ–∑–ª–∏:
  - ‚ùå `security_definer_view` ‚Üí ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
  - ‚ùå `function_search_path_mutable` ‚Üí ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
  - ‚ùå `multiple_permissive_policies` ‚Üí ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

## üéØ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—è

### 1. –§—É–Ω–∫—Ü–∏–∏ PostgreSQL
- –î–æ–±–∞–≤–ª—è–µ—Ç `SET search_path = public` –≤–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ `function_search_path_mutable`

### 2. RLS –ü–æ–ª–∏—Ç–∏–∫–∏
- –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ –µ–¥–∏–Ω—É—é
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ `multiple_permissive_policies`

### 3. Views
- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç views –±–µ–∑ `SECURITY DEFINER`
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫—É `security_definer_view`

## ‚úÖ –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- –í—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ª–∏–Ω—Ç–µ—Ä–∞ Supabase –∏—Å—á–µ–∑–Ω—É—Ç
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üÜò –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ø–æ —á–∞—Å—Ç—è–º
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Supabase
